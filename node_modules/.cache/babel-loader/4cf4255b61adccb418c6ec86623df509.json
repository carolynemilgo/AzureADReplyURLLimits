{"ast":null,"code":"var _jsxFileName = \"/Users/carolynemilgo/Desktop/Azure-AD-main/src/App.jsx\",\n    _s = $RefreshSig$(),\n    _s2 = $RefreshSig$();\n\nimport React, { useState, useEffect } from \"react\";\nimport { useMsal } from \"@azure/msal-react\";\nimport { loginRequest } from \"./authConfig\";\nimport { PageLayout } from \"./components/PageLayout\";\nimport { ProfileData } from \"./components/ProfileData\";\nimport { callMsGraph } from \"./graph\";\nimport Button from \"react-bootstrap/Button\";\nimport \"./styles/App.css\";\nimport { useIsAuthenticated } from \"@azure/msal-react\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst MainContent = ({\n  domain\n}) => {\n  _s();\n\n  var _response$state;\n\n  const {\n    instance,\n    accounts\n  } = useMsal();\n  const [response, setResponse] = useState(null);\n  const isAuthenticated = useIsAuthenticated();\n  useEffect(() => {\n    instance.handleRedirectPromise().then(tokenResponse => {\n      // Handle redirect response\n      setResponse(tokenResponse);\n    }).catch(error => {\n      console.log(\"Error::\", error);\n    });\n  }, []);\n  useEffect(() => {\n    console.log(\"Response:::\", response);\n    if (response === null || response === void 0 ? void 0 : response.state) window.location.href = response.state;\n  }, [response === null || response === void 0 ? void 0 : response.state]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"App\",\n    children: isAuthenticated ? /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: [\"Will redirect to the Sub Domain\", \" \", (_response$state = response === null || response === void 0 ? void 0 : response.state) !== null && _response$state !== void 0 ? _response$state : \"...nowhere, no state\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 38,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: response ? JSON.stringify(response) : \"\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 42,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"Not Authenticated, no redirect\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 9\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 35,\n    columnNumber: 5\n  }, this);\n};\n\n_s(MainContent, \"uoPKhidzdqoAxiRxN35yQ2x4pz0=\", false, function () {\n  return [useMsal, useIsAuthenticated];\n});\n\n_c = MainContent;\nexport default function App() {\n  _s2();\n\n  const [selectedDomain, setSelectedDomain] = useState(null);\n\n  const onClickHandler = e => {\n    setSelectedDomain(e.target.value);\n  };\n\n  return /*#__PURE__*/_jsxDEV(PageLayout, {\n    subdomain: selectedDomain,\n    children: [/*#__PURE__*/_jsxDEV(MainContent, {\n      domain: selectedDomain\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        display: \"flex\",\n        flexDirection: \"column\",\n        width: \"300px\",\n        paddingLeft: 100\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"radio\",\n          id: \"vehicle1\",\n          name: \"subdomain\",\n          value: \"https://www.bluebellkenya.com\",\n          style: {\n            margin: \"10px\"\n          },\n          onClick: onClickHandler\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          for: \"vehicle1\",\n          children: \" Bluebell Kenya\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"radio\",\n          id: \"vehicle2\",\n          name: \"subdomain\",\n          value: \"subdomainb\",\n          style: {\n            margin: \"10px\"\n          },\n          onClick: onClickHandler\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 81,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          for: \"vehicle2\",\n          children: \" Subdomain Domain B \"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 89,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"radio\",\n          id: \"vehicle3\",\n          name: \"subdomain\",\n          value: \"subdomainc\",\n          style: {\n            margin: \"10px\"\n          },\n          onClick: onClickHandler\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 92,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          for: \"vehicle3\",\n          children: \" Subdomain Domain C\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 100,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 59,\n    columnNumber: 5\n  }, this);\n}\n\n_s2(App, \"wykJBiunHjT6QngrVGfPZC+7CO8=\");\n\n_c2 = App;\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"MainContent\");\n$RefreshReg$(_c2, \"App\");","map":{"version":3,"sources":["/Users/carolynemilgo/Desktop/Azure-AD-main/src/App.jsx"],"names":["React","useState","useEffect","useMsal","loginRequest","PageLayout","ProfileData","callMsGraph","Button","useIsAuthenticated","MainContent","domain","instance","accounts","response","setResponse","isAuthenticated","handleRedirectPromise","then","tokenResponse","catch","error","console","log","state","window","location","href","JSON","stringify","App","selectedDomain","setSelectedDomain","onClickHandler","e","target","value","display","flexDirection","width","paddingLeft","margin"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport { useMsal } from \"@azure/msal-react\";\nimport { loginRequest } from \"./authConfig\";\nimport { PageLayout } from \"./components/PageLayout\";\nimport { ProfileData } from \"./components/ProfileData\";\nimport { callMsGraph } from \"./graph\";\nimport Button from \"react-bootstrap/Button\";\nimport \"./styles/App.css\";\nimport { useIsAuthenticated } from \"@azure/msal-react\";\n\nconst MainContent = ({ domain }) => {\n  const { instance, accounts } = useMsal();\n  const [response, setResponse] = useState(null);\n  const isAuthenticated = useIsAuthenticated();\n\n  useEffect(() => {\n    instance\n      .handleRedirectPromise()\n      .then((tokenResponse) => {\n        // Handle redirect response\n        setResponse(tokenResponse);\n      })\n      .catch((error) => {\n        console.log(\"Error::\", error);\n      });\n  }, []);\n\n  useEffect(() => {\n    console.log(\"Response:::\", response);\n    if(response?.state)\n    window.location.href=response.state;\n  }, [response?.state]);\n\n  return (\n    <div className=\"App\">\n      {isAuthenticated ? (\n        <div>\n          <h2>\n            Will redirect to the Sub Domain{\" \"}\n            {response?.state ?? \"...nowhere, no state\"}\n          </h2>\n          <p>{response ? JSON.stringify(response) : \"\"}</p>\n        </div>\n      ) : (\n        <h2>Not Authenticated, no redirect</h2>\n      )}\n    </div>\n  );\n};\n\nexport default function App() {\n  const [selectedDomain, setSelectedDomain] = useState(null);\n\n  const onClickHandler = (e) => {\n    setSelectedDomain(e.target.value);\n  };\n\n  return (\n    <PageLayout subdomain={selectedDomain}>\n      <MainContent domain={selectedDomain} />\n      <div\n        style={{\n          display: \"flex\",\n          flexDirection: \"column\",\n          width: \"300px\",\n          paddingLeft: 100,\n        }}\n      >\n        <div>\n          <input\n            type=\"radio\"\n            id=\"vehicle1\"\n            name=\"subdomain\"\n            value=\"https://www.bluebellkenya.com\"\n            style={{ margin: \"10px\" }}\n            onClick={onClickHandler}\n          />\n          <label for=\"vehicle1\"> Bluebell Kenya</label>\n        </div>\n        <div>\n          <input\n            type=\"radio\"\n            id=\"vehicle2\"\n            name=\"subdomain\"\n            value=\"subdomainb\"\n            style={{ margin: \"10px\" }}\n            onClick={onClickHandler}\n          />\n          <label for=\"vehicle2\"> Subdomain Domain B </label>\n        </div>\n        <div>\n          <input\n            type=\"radio\"\n            id=\"vehicle3\"\n            name=\"subdomain\"\n            value=\"subdomainc\"\n            style={{ margin: \"10px\" }}\n            onClick={onClickHandler}\n          />\n          <label for=\"vehicle3\"> Subdomain Domain C</label>\n        </div>\n      </div>\n    </PageLayout>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}